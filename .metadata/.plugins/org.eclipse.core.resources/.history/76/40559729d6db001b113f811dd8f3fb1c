/*
 * Terminal.cpp
 *
 *  Created on: Jul 3, 2021
 *      Author: ASUS
 */

#include "hw.h"


/*____________________________________________________________________________________________________________________________________________*/
Terminal::Terminal( UART_HandleTypeDef * _huartx ) {
	huartx = &*_huartx ;

}



/*____________________________________________________________________________________________________________________________________________*/
Terminal::~Terminal() {

}



/*____________________________________________________________________________________________________________________________________________*/
void Terminal::irqProcess() {
	if ( rxByte[0] == '\r' )
		rxDone_Flag = true ;
	else
		rxData += rxByte[0] ;

	HAL_UART_Receive_IT( huartx, (uint8_t*)rxByte, 1 ) ;
}



/*____________________________________________________________________________________________________________________________________________*/
void print( const char* _info ) {
	HAL_UART_Transmit( huartx, (uint8_t*)_info, strlen( _info ), 2000 ) ;
}



/*____________________________________________________________________________________________________________________________________________*/
void println( const char* _info ) {
	char info [ strlen( _info ) + 2 ] = {0} ;
	sprintf( info, "\n%s", _info ) ;

	HAL_UART_Transmit( huartx, (uint8_t*)info, strlen( info ), 2000 ) ;
}





